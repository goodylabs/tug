# TUG (PL)

![tug](https://raw.githubusercontent.com/goodylabs/tug/refs/heads/main/assets/images/tug-cli-logo-256x256.png)

TUG to narzędzie cli które pomaga podglądać rzeczy co się dzieje na stagingu/produkcji etc. dla danego repo, kiedy nie chcesz się bawić w ręczne wklepywanie komend.

## Instalacja

1. Uruchom poniższą komendę, aby pobrać i zainstalować najnowszą binarkę TUG:

```bash
curl -s https://raw.githubusercontent.com/goodylabs/tug/refs/heads/main/scripts/download_script.sh | bash -s
```

2. Dodaj poniższą ścieżkę do swojego PATH. Aby to zrobić na stałe dodaj poniższą linię do swojego pliku `~/.bashrc` lub `~/.zshrc` (w zależności od używanej powłoki):

```bash
echo 'export PATH="$HOME/.tug/bin:$PATH"' >> ${HOME}/.$(basename "$SHELL")rc
```

3. Zrestartuj terminal lub załaduj zmiany w bieżącej sesji:

```bash
source ~/.zshrc  # jeśli używasz zsh
source ~/.bashrc # jeśli używasz bash
```

4. Skonfiguruj TUG:

```bash
tug initialize
```

## Aktualizacja

Aby zaktualizować TUG do najnowszej wersji, wystarczy ponownie uruchomić skrypt instalacyjny:

```bash
tug update
# lub
curl -s https://raw.githubusercontent.com/goodylabs/tug/refs/heads/main/scripts/download_script.sh | bash -s
```

## Podstawowe komendy

```bash
tug --version
tug --help
tug completion # komenda wygenerowana przez framework - na razie jeszcze nie rozkminiłem jak dokładnie działa.
```

## PM2

Ułatwia uruchamianie komend na zewnętrznych serwerach, jeżeli projekt korzysta z pm2.

Co to robi tak po kolei?

1. Zaczytuje konfiguracje z `ecosystem.config.js` w katalogu głównym repozytorium w którym się **TERAZ ZNAJDUJESZ GDY KORZYSTASZ Z TUG**

> czyli jak chcesz podejrzeć co się dzieje na środowiskach `<project>/<repo>` to musisz wejść na lokalu do repozytorium `<project>/<repo>` i tam uruchomić `tug pm2`.

2. Jak już zaczyta konfigurację to zadaje ci pytania o to co ciebie interesuje, czyli:

   a. jakie środowisko (staging, production)?
   b. jeśli jest tam więcej hostów to który host?
   c. który proces na serwerze?
   d. co chcesz wykonać np. zobaczyć logi, zrestartować proces?

3. Po tym wszystkim generuje odpowiednią komendę i ją wykonuje na zdalnym serwerze.

### Nawigacja

- strzałka w górę/dół - przechodzenie między opcjami
- enter - wybór opcji
- ctrl + c - powrót do poprzedniego widoku

### Przykład użycia

```bash
# Sprawdzenie do których hostów masz dostęp
tug pm2 --check

# Podstawowe użycie
tug pm2
```

---

# TUG (EN)

![tug](https://raw.githubusercontent.com/goodylabs/tug/refs/heads/main/assets/images/tug-cli-logo-256x256.png)

TUG is a CLI tool that helps you inspect what's happening on staging/production, etc., for a given repository—when you don’t want to manually type in commands.

## Installation

1. Run the following command to download and install the latest TUG binary:

```bash
curl -s https://raw.githubusercontent.com/goodylabs/tug/refs/heads/main/scripts/download_script.sh | bash -s
```

2. Add the following path to your `PATH` environment variable. To make it permanent, add the line below to your `~/.bashrc` or `~/.zshrc` file (depending on the shell you use):

```bash
echo 'export PATH="$HOME/.tug/bin:$PATH"' >> ${HOME}/.$(basename "$SHELL")rc
```

3. Restart your terminal or load the changes in your current session:

```bash
source ~/.zshrc  # if you're using zsh
source ~/.bashrc # if you're using bash
```

4. Configure TUG:

```bash
tug initialize
```

## Updating

To update TUG to the latest version, simply re-run the installation script:

```bash
tug update
# or
curl -s https://raw.githubusercontent.com/goodylabs/tug/refs/heads/main/scripts/download_script.sh | bash -s
```

## Basic Commands

```bash
tug --version
tug --help
tug completion # command generated by the framework – still figuring out exactly how it works.
```

## PM2

Simplifies executing commands on remote servers if the project uses PM2.

What does it do, step by step?

1. It reads the configuration from `ecosystem.config.js` located in the root of the repository **you’re CURRENTLY IN WHEN USING TUG**

> So if you want to check what’s going on in `<project>/<repo>`, you need to `cd` into that repository locally and then run `tug pm2` there.

2. Once it loads the config, it asks you a few questions:

   a. Which environment? (staging, production?)
   b. If there are multiple hosts, which one?
   c. Which process on the server?
   d. What do you want to do (e.g., view logs, restart a process)?

3. After all that, it generates the appropriate command and executes it on the remote server.

### Navigation

- arrow up/down – navigate between options
- enter – select option
- ctrl + c – go back to the previous view

### Usage Example

```bash
# Check which hosts you have access to
tug pm2 --check

# Basic usage
tug pm2

# If you already know the environment, you can specify it directly
tug pm2 staging
tug pm2 staging_RO
tug pm2 production
```
